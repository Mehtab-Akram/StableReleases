@model HeaderLinksModel
@using System.Text.Encodings.Web

<!-- Mobile NavBar start -->
<div class="mobileNav_container fixed-top pb-5">
    <ul class="mobile_nav_top_ul">
        <!-- 1st menu item -->
        <li class="hamburger_menu">
            <a href="#"
               onclick="show_hamburger_menu()"
               class="hamburger_menu_btn">
                <span class="lnr lnr-menu" id="hamburger_menu_icon"></span>
            </a>
        </li>
        <!-- 2nd menu item -->
        <li class="mobile_search_box">
            <a href="#"
               onclick="show_mobile_search()"
               class="mobile_search_box_btn">
                <span class="lnr lnr-magnifier" id="mobile_search_icon"></span>
            </a>
        </li>
        <!-- 3rd menu item-->
        <li class="mobile_profile_box">
            <a href="#"
               onclick="show_mobile_profile()"
               class="mobile_profile_box_btn">
                <span class="lnr lnr-user" id="mobile_profile_icon"></span>
            </a>
        </li>
        <!-- 4th menu item -->
        <li class="moblie_cart">
            <a href="#" onclick="show_mobile_cart()" class="mobile_cart_btn">
                <span class="lnr lnr-cart cart_icon" id="mobile_cart_icon"></span>
            </a>
        </li>
    </ul>
</div>

<!-- 1st menu item content start -->
<div class="mobile_hamburger_menu_content_container"
     id="show_hamburger_menu">
    <div class="row">
        <div class="col">
            <div id="hamburger_menu_item" role="tablist" aria-multiselectable="true">

                    @{
        var rootCategories = Model.objTopMenuModel.Categories.Where(x => x.IncludeInTopMenu).ToList();
                    }
                    @foreach (var category in rootCategories)
    {
        var categoryLineModel = new TopMenuModel.CategoryLineModel
        {
            Category = category
        };
                @await Html.PartialAsync("_CategoryLine.TopMenuMobile", categoryLineModel)
}

                </div>
        </div>


    </div>
    </div>

    <!-- 2nd menu item content start -->
    <div class="mobile_search_content_container" id="show_mobile_search">
        @await Component.InvokeAsync("SearchBox")
        @*<form action="" class="mobile_search_form">
                <input type="text"
                       name="search"
                       placeholder="Search entire store here..."
                       id="mobile_search_input" />
                <button type="submit">
                    <span class="lnr lnr-magnifier"></span>
                </button>
            </form>*@
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-light first_nav">
        <span class="navbar-text">
            <span>Welcome <b> @Model.CustomerName</b></span>
        </span>
        <button class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarText"
                aria-controls="navbarText"
                aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon lnr lnr-user"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav ml-auto">
                @if (Model.IsAuthenticated)
                {
                    <li class="nav-item signIn"><a class="nav-link" href="@Url.RouteUrl("Logout")"><span class="lnr lnr-user"></span>@T("Account.Logout")</a></li>
                    <li class="nav-item my_account"><a class="nav-link" href="@Url.RouteUrl("CustomerInfo")"><span class="lnr lnr-user"></span>@T("Account.MyAccount")</a></li>
                    @*<li><a href="@Url.RouteUrl("Logout")" class="ico-logout">@T("Account.Logout")</a></li>*@
                }
                else
                {

                    <li class="nav-item signIn"><a class="nav-link" href="@Url.RouteUrl("Login")"><span class="lnr lnr-user"></span>@T("Account.Login")</a></li>
                    <li class="nav-item my_account"><a class="nav-link" href="@Url.RouteUrl("Register")"><span class="lnr lnr-user"></span>@T("Account.Register")</a></li>
                    @*<li><a href="@Url.RouteUrl("Logout")" class="ico-logout">@T("Account.Logout")</a></li>*@

                }

                @*<li class="nav-item my_account">
                        <a class="nav-link" href="#"><span class="lnr lnr-user"></span>My Account</a>
                    </li>*@
                @*@if (Model.WishlistEnabled)
                    {
                        <li>
                            <a href="@Url.RouteUrl("Wishlist")" class="ico-wishlist">
                                <span class="wishlist-label">@T("Wishlist")</span>
                                <span class="wishlist-qty">@T("Wishlist.HeaderQuantity", Model.WishlistItems)</span>
                            </a>
                        </li>
                    }*@
                @if (Model.WishlistEnabled)
                {
                    <li class="nav-item wishlist">
                        <a class="nav-link" href="@Url.RouteUrl("Wishlist")">
                            <span class="lnr lnr-heart"></span>@T("Wishlist") <span class="wishlist-qty">@T("Wishlist.HeaderQuantity", Model.WishlistItems)</span>
                            @*@T("Wishlist.HeaderQuantity", Model.WishlistItems)*@

                            @*<span class="cart_counter"></span>*@
                        </a>
                    </li>
                }
                @if (Model.ShoppingCartEnabled)
                {
                    <li id="topcartlink" class="nav-item">
                        <a href="@Url.RouteUrl("ShoppingCart")" class="ico-cart nav-link">
                            <span class="cart-label lnr lnr-cart"></span>@T("ShoppingCart") <span class="cart-qty">@T("ShoppingCart.HeaderQuantity", Model.ShoppingCartItems)</span>
                            @*@T("ShoppingCart.HeaderQuantity", Model.ShoppingCartItems)*@
                            @*<span class="cart-qty">@T("ShoppingCart.HeaderQuantity", Model.ShoppingCartItems)</span>*@
                        </a>
                    </li>
                }
                @*<li class="nav-item signIn"><a class="nav-link" href="#"><span class="lnr lnr-user"></span>Sign In</a></li>
                    <li class="nav-item newAccount">
                        <a class="nav-link" href="#"><span class="lnr lnr-user"></span>Create an Account</a>
                    </li>*@
            </ul>
        </div>
    </nav>
    @if (Model.AllowPrivateMessages && !string.IsNullOrEmpty(Model.AlertMessage))
    {
        //new private message notification
        <script type="text/javascript" asp-location="Footer">
            $(document).ready(function () {
                displayPopupNotification('@Html.Raw(JavaScriptEncoder.Default.Encode(Model.AlertMessage))', 'success', false);
            });
        </script>
    }


    @if (Model.ShoppingCartEnabled)
    {
        <script type="text/javascript" asp-location="Footer">
            $(document).ready(function () {
                $('.page_header').on('mouseenter', '#topcartlink', function () {
                    $('#flyout-cart').addClass('active');
                });
                $('.page_header').on('mouseleave', '#topcartlink', function () {
                    $('#flyout-cart').removeClass('active');
                });
                $('.page_header').on('mouseenter', '#flyout-cart', function () {
                    $('#flyout-cart').addClass('active');
                });
                $('.page_header').on('mouseleave', '#flyout-cart', function () {
                    $('#flyout-cart').removeClass('active');
                });
            });
        </script>
    }

